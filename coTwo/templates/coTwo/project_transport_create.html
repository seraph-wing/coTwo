{% extends 'coTwo/base.html' %}
{% load bootstrap5 %}

{% block title %} Transport phase {% endblock %}
{% block content %}
    <div class="phase"><h1>Materials Transportation Phase</h1></div>
    <div class="description">
        <p>Here you need to specify the amount of round trips used by the material and the distance of the source of materials to the destination </p>
    </div>
    <form method = 'POST'>
    {% for hidden_field in form.hidden_fields %}
        {{ hidden_field.errors }}
        {{ hidden_field }}
    {% endfor %}
    <h5>Transports added so far:</h5>
    <table class="table table-bordered table-hover">
    <thead class="thead-dark">
        <tr>
            <th scope="col">Material Name</th>
            <th scope="col">Number of round trips</th>
            <th scope="col">Average two-way distance</th>
        </tr>
    </thead>
    <tbody >
        {% for added_transport in added_transports %}
            <tr>
                <td>{{ added_transport.material }}</td>
                <td>{{ added_transport.num_trips }}</td>
                <td>{{ added_transport.distance}} KMs</td>
            </tr>
        {% endfor %}
    </tbody>
    </table>
    {% csrf_token %}
    {{ form.non_form_errors }}
    {{ form.as_p }}
    <p class = 'pt-2'>
        <button type="submit" class="btn btn-primary"> Add data </button>
        <a href="{% url 'coTwo:index' %}" role="button" class="btn btn-danger"> Cancel</a>
        <h4>Move onto <a href="{% url 'coTwo:operation_create' pk=key %}" role="button" class="btn btn-success"> Next</a> phase</h4>
    </p>
    </form>
{% endblock %}